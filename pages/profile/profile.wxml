<!-- 我的页面 -->
<view class="container">
  <!-- 状态栏 -->
  <status-bar time="9:41"></status-bar>

  <!-- 顶部导航 -->
  <nav-bar title="我的" show-settings="true" settings-text="帮助与反馈" bind:settings="onHelpFeedback"></nav-bar>

  <!-- 内容区域 -->
  <scroll-view class="content" scroll-y="true">
    <!-- 用户信息 -->
    <view class="user-section">
      <view class="user-info">
        <view class="avatar-container">
          <image class="avatar" src="{{userInfo.avatar}}" mode="aspectFill"></image>
        </view>
        <view class="user-details">
          <text class="user-name">{{userInfo.name}}</text>
          <text class="store-info">{{userInfo.store}}</text>
        </view>
      </view>
      <button class="switch-button" bindtap="onSwitchStore">切换门店</button>
    </view>

    <!-- 数据概览 -->
    <view class="stats-section">
      <view class="stats-grid">
        <block wx:for="{{stats}}" wx:key="index">
          <view class="stat-item">
            <text class="stat-title">{{item.title}}</text>
            <view class="stat-value-container">
              <text class="stat-value">{{item.value}}</text>
              <text wx:if="{{item.unit}}" class="stat-unit">{{item.unit}}</text>
            </view>
            <text wx:if="{{item.change}}" class="stat-change">{{item.change}}</text>
            <text wx:if="{{item.desc}}" class="stat-desc">{{item.desc}}</text>
          </view>
        </block>
      </view>
    </view>

    <!-- 设置列表 -->
    <view class="settings-section">
      <block wx:for="{{sections}}" wx:key="index">
        <view class="settings-group">
          <view class="group-title">{{item.title}}</view>
          <block wx:for="{{item.items}}" wx:key="subindex">
            <button class="setting-item" bindtap="onItemClick" data-index="{{index}}" data-subindex="{{subindex}}">
              <view class="item-left">
                <icon class="item-icon" type="{{item.icon}}" size="16"></icon>
                <text class="item-text">{{item.text}}</text>
              </view>
              <icon class="arrow-icon" type="arrow" size="10"></icon>
            </button>
          </block>
        </view>
      </block>
    </view>

    <!-- 退出登录 -->
    <view class="logout-section">
      <button class="logout-button" bindtap="onLogout">退出登录</button>
    </view>
  </scroll-view>

  <!-- 底部 TabBar -->
  <view class="tab-bar">
    <button class="tab-item" bindtap="onNavToHome">
      <icon class="tab-icon" type="waiting" size="16"></icon>
      <text class="tab-text">车辆</text>
    </button>
    <button class="tab-item" bindtap="onNavToShoot">
      <icon class="tab-icon" type="video" size="16"></icon>
      <text class="tab-text">拍摄</text>
    </button>
    <button class="tab-item" bindtap="onNavToClips">
      <icon class="tab-icon" type="video_fill" size="16"></icon>
      <text class="tab-text">成片</text>
    </button>
    <button class="tab-item active" bindtap="onNavToProfile">
      <icon class="tab-icon" type="person" size="16"></icon>
      <text class="tab-text">我的</text>
    </button>
  </view>
</view>